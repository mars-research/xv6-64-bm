
This is a port of xv6 to the x86-64 platform (from i386), attempting to
be as minimally intrusive as possible (beyond some initial reorganization
of the source code layout and build system).

  "xv6 is a re-implementation of Dennis Ritchie's and Ken Thompson's Unix
   Version 6 (v6).  xv6 loosely follows the structure and style of v6,
   but is implemented for a modern x86-based multiprocessor using ANSI C."

The original upstream branch (mirror) was pulled from the git repository
https://github.com/mit-pdos/xv6-public
(previously git://pdos.csail.mit.edu/xv6/xv6.git)

The original project homepage is here:
https://pdos.csail.mit.edu/6.828/2014/xv6.html
(previously http://pdos.csail.mit.edu/6.828/2012/xv6.html)

The PDF books about the rev7 version of xv6 are checked into the books branch
of this repository for easy access.  They come from the xv6 project's home site.

The original README remains as README.orig -- renamed to avoid misrepresenting
this working branch and any local changes as the original project and to 
hopefully avoid people pestering the original authors about bugs I may introduce
while poking at their code.

. . .

The code has been organized into kernel/, include/, user/, ulib/, and tools/
subdirectories, and arranged so that the build puts intermediate object files
into kobj/ and uobj/ directories, other intermediates into out/, and the
filesystem contents into fs/.

The Makefile defaults to building the 32bit version of xv6.  Define the X64
environment variable to build the 64bit version.

README.64BIT contains notes about the 64bit port.

BAREMETAL BOOT INFO
------------------------------------------------------------------------------------------------------
Run on a Cloudlab Wisc220g2 node for PCID support and Ubuntu 18 for the right version of QEMU

1) Install QEMU
   edit Makefile with proper QEMU location if necessary

2) build with 'X64=1 MEMFS=1 make'
   optional flags are PCID=1 for PCIDs and PGE=1 for global pages

3) run 'make qemu-nox-memfs' with the same flags used in the previous step
   will boot into xv6 in qemu, just exit qemu after it boots

4) copy 'xv6memfs.img' into /boot/

5) update grub the same way as for booting 32 bit xv6

6) restart and choose xv6 from the boot menu (will have to use web console for wisc node)